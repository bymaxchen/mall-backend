(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["productsDetails"],{"37b3":function(t,e,a){},"457a":function(t,e,a){"use strict";a.r(e);var i=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dm_productsDetails"},[a("div",{staticClass:"common_width"},[a("Top",{attrs:{basicInfo:t.basicInfo,imgList:t.imgList,specs:t.specs,getDetailsData:t.getDetailsData}}),a("Bottom",{attrs:{params:t.params,detailsPic:t.detailsPic}})],1)])},n=[],s=(a("96cf"),a("1da1")),r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dm_productsDetails_top"},[a("div",{staticStyle:{display:"none"}},[t._v(t._s(t.token))]),a("el-row",[a("el-col",{attrs:{span:8}},[a("dl",[a("dt",[t.imgList[t.actionIndex]?a("img",{attrs:{src:t.$url+t.imgList[t.actionIndex],alt:"loading..."}}):t._e()]),a("dd",t._l(t.imgList,(function(e,i){return a("div",{key:i,class:t.actionIndex===i?"active":"",on:{mouseover:function(e){return t.handleTogglePic(i)}}},[a("img",{attrs:{src:t.$url+e,alt:""}})])})),0)])]),a("el-col",{attrs:{span:16}},[a("div",{staticClass:"products_title",attrs:{title:t.basicInfo.description||"-"}},[t._v(t._s(t._f("threeLineEllipsis")(t.basicInfo.description||"敬请期待~~~",86)))]),a("h3",{staticClass:"ellipsis",attrs:{title:t.basicInfo.copywriting||"-"}},[t._v(t._s(t.basicInfo.copywriting||"敬请期待~~~"))]),a("div",{staticClass:"price"},[t._v("售价： "),a("div",[a("span",{staticClass:"unit"},[t._v("￥")]),t._v(" "+t._s(t.basicInfo.price&&!isNaN(t.basicInfo.price)?Number(t.basicInfo.price).toFixed(2):0)+" ")])]),a("el-row",{staticClass:"Specifications"},[a("el-col",{attrs:{span:2}},[t._v("规格：")]),a("el-col",{attrs:{span:22}},[a("el-row",t._l(t.specs,(function(e){return a("el-col",{key:e.id,class:t.basicInfo.id===e.id?"active":"",attrs:{span:11},nativeOn:{click:function(a){return t.handleToggleSpecs(e.id)}}},[a("div",{staticClass:"ellipsis",attrs:{title:e.spec||"-"}},[t._v(t._s(e.spec||"-"))])])})),1)],1)],1),a("el-row",{staticClass:"Number"},[a("el-col",{attrs:{span:2}},[t._v("数量：")]),a("el-col",{attrs:{span:22}},[a("el-input-number",{attrs:{min:1,max:99,size:"small"},on:{change:t.watchNumber},model:{value:t.num,callback:function(e){t.num=e},expression:"num"}})],1)],1),a("el-row",{staticClass:"handleButton"},[a("el-col",{style:{height:"1px"},attrs:{span:2}}),a("el-col",{attrs:{span:22}},[a("el-button",{attrs:{type:"primary",disabled:t.isDisabled,plain:""},on:{click:t.immediatePurchase}},[t._v("立即购买")]),a("el-button",{attrs:{type:"primary",disabled:t.isDisabled},on:{click:t.handleAddCart}},[t._v("加入购物车")])],1)],1)],1)],1)],1)},c=[],l=(a("a9e3"),a("5530")),o=a("2f62"),u={props:{basicInfo:{type:Object,default:function(){return{}}},imgList:{type:Array,default:function(){return[]}},specs:{type:Array,default:function(){return[]}},getDetailsData:Function},data:function(){return{actionIndex:0,num:1,isDisabled:!1}},updated:function(){this.uname&&this.token||(this.isDisabled=!0)},methods:{immediatePurchase:function(){var t=this;return Object(s["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(a=t.basicInfo.id,!t.isDisabled){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,t.handleAddCart();case 5:return e.next=7,setTimeout((function(){t.$router.push({name:"settlementPage",query:{id:[a],type:"cart"}})}),1e3);case 7:case"end":return e.stop()}}),e)})))()},handleAddCart:function(){var t=this.basicInfo,e=t.id,a=t.price;this.isDisabled||this.$store.dispatch("handleAddCart",{list:[{pid:e,num:this.num,totalprice:a?Number(a)*this.num:a}]})},watchNumber:function(t){this.num=t},handleTogglePic:function(t){this.actionIndex=t},handleToggleSpecs:function(t){t&&(this.$router.push({name:"productsDetails",params:{id:t}}),this.getDetailsData({id:t}),this.actionIndex=0,this.num=1)}},computed:Object(l["a"])({},Object(o["b"])({uname:function(t){return t.uname},token:function(t){return t.token}}))},d=u,m=(a("7b66"),a("2877")),p=Object(m["a"])(d,r,c,!1,null,null,null),b=p.exports,v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"dm_productsDetails_bottom"},[a("div",{staticStyle:{display:"none"}},[t._v(t._s(t.token))]),a("el-tabs",{style:{padding:"0 20px",color:"#666"},on:{"tab-click":t.tabsChange},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[a("el-tab-pane",{attrs:{label:"商品介绍",name:"introduce"}},[a("div",[a("dl",{staticClass:"dm_productsDetails_bottom__parameter"},[a("dd",t._l(t.newParamsList,(function(e){return a("span",{key:e.id,attrs:{title:e.value}},[t._v(t._s(e.label)+"："+t._s("brandId"==e.key?t.BRAND_LIST[e.value]:e.value))])})),0)]),a("el-row",t._l(t.detailsPic,(function(e,i){return a("el-col",{key:i,style:{textAlign:"center"},attrs:{span:24}},[a("img",{style:{width:"750px",height:"auto"},attrs:{src:t.$url+e}})])})),1)],1)]),a("el-tab-pane",{attrs:{label:"商品评价",name:"comment"}},[t.commentList.length?t._l(t.commentList,(function(e){return a("List",{key:e.id,attrs:{id:e.id,avatar:e.avatar?""+t.$url+e.avatar:"",uname:e.uname,commentTime:e.commentTime,content:e.content,likeNum:e.agree,dislikeNum:e.disagree,statusClick:t.statusClick,isShowBtn:!t.isDisabled}})})):a("div",{style:{textAlign:"center",padding:"30px 0 10px"}},[t._v("暂无评价")])],2)],1)],1)},f=[],h=(a("4160"),a("b0c0"),a("159b"),{props:{params:{type:Object,default:function(){return{}}},detailsPic:{type:Array,default:function(){return[]}}},data:function(){return{activeName:"introduce",paramsList:[{id:1,label:"品牌",key:"brandId",value:""},{id:2,label:"商品名称",key:"productName",value:""},{id:3,label:"商品毛重",key:"weight",value:""},{id:4,label:"商品产地",key:"placeOfOrigin",value:""},{id:5,label:"系统",key:"systems",value:""},{id:6,label:"处理器",key:"cpu",value:""},{id:7,label:"厚度",key:"thickness",value:""},{id:8,label:"硬盘容量",key:"disk",value:""},{id:9,label:"待机时长",key:"standbyTime",value:""},{id:10,label:"系列",key:"series",value:""},{id:11,label:"裸机重量",key:"bareWeight",value:""},{id:12,label:"屏幕尺寸",key:"screenSize",value:""},{id:13,label:"显卡型号",key:"gpu",value:""},{id:14,label:"特性",key:"characteristic",value:""},{id:15,label:"内存容量",key:"memory",value:""},{id:16,label:"显存容量",key:"gpuCapacity",value:""},{id:17,label:"机身材质",key:"bodyMaterial",value:""}],BRAND_LIST:this.$tableDic.BRAND_LIST||{},commentList:[],isDisabled:!1}},updated:function(){this.uname&&this.token||(this.isDisabled=!0)},methods:{statusClick:function(t,e,a,i){this.isDisabled||this.postUpdateCommentData({id:t,type:e,agreeNum:a,disagreeNum:i})},tabsChange:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.activeName=t.name,"comment"==t.name&&this.getCurrentCommentData({pid:this.params.id})},getCurrentCommentData:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,c;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,e.$service.getCurrentCommentData(i);case 3:n=a.sent;try{200===n.data.code&&(s=n.data||{},r=s.data,c=void 0===r?[]:r,e.commentList=c)}catch(l){console.log(l)}case 5:case"end":return a.stop()}}),a)})))()},postUpdateCommentData:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,e.$service.postUpdateCommentData(i);case 3:n=a.sent;try{200===n.data.code&&e.getCurrentCommentData({pid:e.params.id})}catch(s){console.log(s)}case 5:case"end":return a.stop()}}),a)})))()}},computed:Object(l["a"])({newParamsList:function(){var t=this.params,e=this.paramsList,a=function(a){e.forEach((function(i,n){a==i.key&&(e[n]["value"]=t[a])}))};for(var i in t)a(i);return e}},Object(o["b"])({uname:function(t){return t.uname},token:function(t){return t.token}}))}),g=h,y=(a("4ad0"),Object(m["a"])(g,v,f,!1,null,null,null)),k=y.exports,_={components:{Top:b,Bottom:k},data:function(){return{id:null,basicInfo:{},detailsPic:[],imgList:[],params:{},specs:[]}},mounted:function(){try{var t=this.$route.params||{},e=t.id;this.id=e,this.getDetailsData({id:e})}catch(a){console.log(a)}},methods:{getDetailsData:function(){var t=arguments,e=this;return Object(s["a"])(regeneratorRuntime.mark((function a(){var i,n,s,r,c,l,o,u;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return i=t.length>0&&void 0!==t[0]?t[0]:{},a.next=3,e.$service.getDetailsData(i);case 3:n=a.sent;try{200===n.data.code&&(s=n.data.data||{},r=s.basicInfo,c=s.imgList,l=s.params,o=s.specs,u=s.detailsPic,e.basicInfo=r,e.imgList=c,e.params=l,e.specs=o,e.detailsPic=u)}catch(d){console.log(d)}case 5:case"end":return a.stop()}}),a)})))()}}},D=_,w=(a("f422"),Object(m["a"])(D,i,n,!1,null,null,null));e["default"]=w.exports},"4ad0":function(t,e,a){"use strict";var i=a("9be9"),n=a.n(i);n.a},"7b66":function(t,e,a){"use strict";var i=a("ed32"),n=a.n(i);n.a},"9be9":function(t,e,a){},ed32:function(t,e,a){},f422:function(t,e,a){"use strict";var i=a("37b3"),n=a.n(i);n.a}}]);
//# sourceMappingURL=productsDetails.d513ec4c.js.map